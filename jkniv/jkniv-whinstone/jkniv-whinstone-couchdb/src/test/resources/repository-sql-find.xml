<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<statements 
  xmlns="http://jkniv.sf.net/schema/sqlegance/statements"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xsi:schemaLocation="http://jkniv.sf.net/schema/sqlegance/statements
       http://jkniv.sf.net/schema/sqlegance/sqlegance-stmt.xsd">
  

  <select id="authorsBR">
    {
     "selector": {"nationality": "BR" }
    }
  </select>

  <select id="authorsNat">
    {
     "selector": {"nationality": #{nat} },
     "fields": ["_id", "_rev", "name","nationality"],
     "limit": 2,
     "skip": 0
    }
  </select>
  

  <select id="authorsBRTyped" returnType="net.sf.jkniv.whinstone.couchdb.model.orm.Author">
    {
     "selector": {"nationality": "BR" },
     "fields": ["_id", "_rev", "name", "nationality"]
    }
  </select>
  
  <select id="booksFromYear" returnType="net.sf.jkniv.whinstone.couchdb.model.orm.Author">
    {
     "selector": {"books": {"published" : :year } },
     "fields": ["_id", "_rev", "name", "nationality"]
    }
  </select>
  

  <select id="authorsUsingArray" returnType="net.sf.jkniv.whinstone.couchdb.model.orm.Author">
  <description>Seleciona todos os autores atraves de book collection (nao funciona a consulta, consertar!) </description>
    {
     "selector": {"books" : { "$elemMatch": {  "$eq": { "isbn": "978-1503250888" } } } }
    }
  </select>
    

</statements>