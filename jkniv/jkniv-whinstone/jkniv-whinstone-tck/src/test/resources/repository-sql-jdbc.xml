<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<statements 
  context="whin-jdbc"
  xmlns="http://jkniv.sf.net/schema/sqlegance/statements"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xsi:schemaLocation="http://jkniv.sf.net/schema/sqlegance/statements
       http://jkniv.sf.net/schema/sqlegance/sqlegance-stmt.xsd">
  
  <select id="authors-by-name">
    select id, name
    from AUTHOR a where a.name = :name
  </select>

  <insert id="Author#create">
    CREATE TABLE AUTHOR  (
     ID BIGINT NOT NULL, 
     NAME VARCHAR(255), 
     PRIMARY KEY (ID)
    )
  </insert>
  <insert id="Author#sequence">
    CREATE SEQUENCE SEQ_AUTHOR_ID AS BIGINT
    START WITH 100
  </insert>
  <delete id="Author#drop">
   drop TABLE AUTHOR
  </delete>  
  <insert id="Author-add1">
   INSERT INTO AUTHOR (ID, NAME) VALUES (1, 'Friedrich Nietzsche')
  </insert>
  <insert id="Author-add2">
   INSERT INTO AUTHOR (ID, NAME) VALUES (2, 'Martin Fowler')
  </insert>
  <insert id="Author-add3"> 
   INSERT INTO AUTHOR (ID, NAME) VALUES (3, 'Carlos Drummond de Andrade')
  </insert>
  <insert id="Author-add4">
   INSERT INTO AUTHOR (ID, NAME) VALUES (4, 'Franz Kafka')
  </insert>
  <insert id="Author-add5">
   INSERT INTO AUTHOR (ID, NAME) VALUES (5, 'Albert Camus')
  </insert>
  <insert id="Author#add">
    <autoGeneratedKey strategy="SEQUENCE" properties="id">
     VALUES (NEXT VALUE FOR SEQ_AUTHOR_ID)
    </autoGeneratedKey>
    INSERT INTO AUTHOR (ID, NAME) VALUES (:id, :name)
  </insert>
  
  <update id="Author#update">
    update AUTHOR set name = :name where id = :id
  </update>

  <delete id="Author#remove">
    delete from AUTHOR where id = :id
  </delete>
  
</statements>